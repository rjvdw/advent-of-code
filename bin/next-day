#!/bin/bash

pushd $( dirname $( dirname $( readlink -f $0 ) ) )

day_nr=$1

if [ -z "${1}" ]; then
  echo "Usage: $0 <DAY_NR>"
  exit 1
fi

day_nr_padded=$( printf %02d $day_nr )
dir_name="day${day_nr_padded}"

cp -r _tmp/template "${dir_name}"
sed -i '' 's/name = "day##"/name = "day'$day_nr_padded'"/g' "${dir_name}/Cargo.toml"
sed -i '' 's/2020\/day\/#/2020\/day\/'$day_nr'/g' "${dir_name}/src/main.rs"
